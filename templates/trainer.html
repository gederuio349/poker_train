{% extends 'base.html' %}
{% block content %}
  <section class="trainer">
    <div class="layout">
      <aside class="sidebar">
        <h3>Старшинство комбинаций</h3>
        <ol class="combos">
          <li>
            <div class="combo-item">
              <span class="combo-name">Стрит‑флэш</span>
              <div class="combo-example">
                <div class="mini-card red">9♠</div>
                <div class="mini-card red">8♠</div>
                <div class="mini-card red">7♠</div>
                <div class="mini-card red">6♠</div>
                <div class="mini-card red">5♠</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Каре</span>
              <div class="combo-example">
                <div class="mini-card">A♣</div>
                <div class="mini-card">A♠</div>
                <div class="mini-card">A♥</div>
                <div class="mini-card">A♦</div>
                <div class="mini-card">K♠</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Фулл‑хаус</span>
              <div class="combo-example">
                <div class="mini-card">K♣</div>
                <div class="mini-card">K♠</div>
                <div class="mini-card">K♥</div>
                <div class="mini-card">7♦</div>
                <div class="mini-card">7♠</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Флэш</span>
              <div class="combo-example">
                <div class="mini-card red">J♥</div>
                <div class="mini-card red">9♥</div>
                <div class="mini-card red">6♥</div>
                <div class="mini-card red">4♥</div>
                <div class="mini-card red">2♥</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Стрит</span>
              <div class="combo-example">
                <div class="mini-card">10♠</div>
                <div class="mini-card">9♣</div>
                <div class="mini-card">8♦</div>
                <div class="mini-card">7♠</div>
                <div class="mini-card">6♥</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Сет (тройка)</span>
              <div class="combo-example">
                <div class="mini-card">Q♣</div>
                <div class="mini-card">Q♠</div>
                <div class="mini-card">Q♥</div>
                <div class="mini-card">A♦</div>
                <div class="mini-card">8♠</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Две пары</span>
              <div class="combo-example">
                <div class="mini-card">J♣</div>
                <div class="mini-card">J♠</div>
                <div class="mini-card">4♥</div>
                <div class="mini-card">4♦</div>
                <div class="mini-card">9♠</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Пара</span>
              <div class="combo-example">
                <div class="mini-card">A♣</div>
                <div class="mini-card">A♠</div>
                <div class="mini-card">K♦</div>
                <div class="mini-card">Q♥</div>
                <div class="mini-card">7♠</div>
              </div>
            </div>
          </li>
          <li>
            <div class="combo-item">
              <span class="combo-name">Старшая карта</span>
              <div class="combo-example">
                <div class="mini-card">A♣</div>
                <div class="mini-card">K♠</div>
                <div class="mini-card">Q♦</div>
                <div class="mini-card">J♥</div>
                <div class="mini-card">9♠</div>
              </div>
            </div>
          </li>
        </ol>
      </aside>
      <div class="content">
        <h2>Раунд тренировки (игроков: {{ players }})</h2>
        <div id="table" class="table">
          <div class="board" id="board"></div>
          <div class="seats" id="seats"></div>
          <div class="hero-seat" id="hero-seat">
            <div class="hero-cards" id="hero-cards"></div>
          </div>
        </div>

        <div class="odds-input">
          <div class="odds-header">
            <label for="guess">Твой шанс победы (%)</label>
            <button id="restart" class="btn restart-btn" type="button">Новый раунд</button>
          </div>
          <div class="guess-row">
            <button id="dec" type="button" class="btn">−</button>
            <input id="guess" type="number" min="0" max="100" step="0.5" value="50">
            <button id="inc" type="button" class="btn">+</button>
          </div>
          <div class="actions">
            <button id="submit-guess" class="btn primary" type="button">Подтвердить</button>
            <button id="show-odds" class="btn outline" type="button" style="display:none">Показать правильный результат</button>
            <button id="next-street" class="btn" type="button" style="display:none">Далее</button>
            <button id="showdown" class="btn" type="button" style="display:none">Вскрытие</button>
          </div>
          <div id="odds-result" class="odds-result"></div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Модальное окно для результатов showdown -->
  <div id="showdown-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Результаты вскрытия</h2>
        <button id="close-modal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body" id="modal-body">
        <!-- Здесь будет динамически добавлена информация о выигрышных комбинациях -->
      </div>
    </div>
  </div>
  
  <script src="{{ url_for('static', filename='js/trainer.js') }}" type="module"></script>
{% endblock %}


