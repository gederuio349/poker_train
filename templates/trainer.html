{% extends 'base.html' %}
{% block content %}
  <section class="trainer">
    <div class="layout">
      <aside class="sidebar">
        <h3>Как играть</h3>
        <ul>
          <li>Выберите число игроков и начните раунд.</li>
          <li>Оцените шанс победы на каждой улице, затем проверьте.</li>
          <li>«Далее» — следующая улица, «Вскрытие» — финал.</li>
          <li>Шорткаты: ←/→ меняют шанс.</li>
        </ul>
        <h3>Старшинство комбинаций</h3>
        <ol class="combos">
          <li>Стрит‑флэш</li>
          <li>Каре</li>
          <li>Фулл‑хаус</li>
          <li>Флэш</li>
          <li>Стрит</li>
          <li>Сет (тройка)</li>
          <li>Две пары</li>
          <li>Пара</li>
          <li>Старшая карта</li>
        </ol>
      </aside>
      <div class="content">
        <h2>Раунд тренировки (игроков: {{ players }})</h2>
        <div id="table" class="table">
          <div class="board" id="board"></div>
          <div class="seats" id="seats"></div>
          <div class="hero-seat" id="hero-seat">
            <div class="hero-cards" id="hero-cards"></div>
          </div>
        </div>

        <div class="odds-input">
          <div class="odds-header">
            <label for="guess">Твой шанс победы (%)</label>
            <button id="restart" class="btn restart-btn" type="button">Новый раунд</button>
          </div>
          <div class="guess-row">
            <button id="dec" type="button" class="btn">−</button>
            <input id="guess" type="number" min="0" max="100" step="0.5" value="50">
            <button id="inc" type="button" class="btn">+</button>
          </div>
          <div class="actions">
            <button id="submit-guess" class="btn primary" type="button">Подтвердить</button>
            <button id="show-odds" class="btn outline" type="button" style="display:none">Показать правильный результат</button>
            <button id="next-street" class="btn" type="button" style="display:none">Далее</button>
            <button id="showdown" class="btn" type="button" style="display:none">Вскрытие</button>
          </div>
          <div id="odds-result" class="odds-result"></div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Модальное окно для результатов showdown -->
  <div id="showdown-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Результаты вскрытия</h2>
        <button id="close-modal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body" id="modal-body">
        <!-- Здесь будет динамически добавлена информация о выигрышных комбинациях -->
      </div>
    </div>
  </div>
  
  <script src="{{ url_for('static', filename='js/trainer.js') }}" type="module"></script>
{% endblock %}


